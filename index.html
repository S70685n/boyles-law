<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gas & Cylinder & Rod Calculator</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f0f0f0; /* light grey background */
    color: #003366;
    margin: 0;
    padding: 20px;
}
.logo-container {
    text-align: center;
    margin-bottom: 20px;
}
.logo-container img {
    max-width: 150px;
}
.tabs {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
}
.tab-button {
    flex: 1;
    padding: 14px;
    font-size: 18px; /* enlarged text */
    cursor: pointer;
    background: #ff0000; /* red background */
    color: black; /* black text */
    border: none;
    border-radius: 6px 6px 0 0;
    margin-right: 2px;
}
.tab-button.active {
    background: #cc0000; /* darker red for active tab */
    color: black;
}
.tab-content {
    background: #ffffff; /* white content */
    border-radius: 0 6px 6px 6px;
    padding: 20px;
    display: none;
}
.tab-content.active {
    display: block;
}
input, select {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    font-size: 18px;
}
button.calc {
    background: #ff0000; /* red background */
    color: black; /* black text */
    border: none;
    border-radius: 6px;
    padding: 14px;
    font-size: 18px;
    margin-top: 10px;
}
button.reset {
    background: #666666; /* grey background */
    color: white;
    border: none;
    border-radius: 6px;
    padding: 14px;
    font-size: 18px;
    margin-top: 10px;
}
.result {
    text-align: center;
    font-weight: bold;
    font-size: 20px; /* larger result text */
}
</style>
</head>
<body>

<!-- Logo -->
<div class="logo-container">
    <img src="https://your-image-url.com/logo.png" alt="Logo">
</div>

<!-- Tabs -->
<div class="tabs">
    <button class="tab-button active" onclick="openTab('boyle')">Boyle’s Law</button>
    <button class="tab-button" onclick="openTab('cylinder')">Cylinder Volume</button>
    <button class="tab-button" onclick="openTab('rod')">Rod Force</button>
</div>

<!-- Boyle's Law Tab -->
<div id="boyle" class="tab-content active">
<h2 style="text-align:center;">Boyle’s Law Calculator</h2>
<p style="text-align:center;">Leave ONE field empty</p>

<label>Pressure Unit:</label>
<select id="pressureUnit">
    <option value="psi">psi</option>
    <option value="bar">bar</option>
</select>

<input id="P1" placeholder="Initial Pressure">
<input id="V1" placeholder="Initial Volume">
<input id="P2" placeholder="Final Pressure">
<input id="V2" placeholder="Final Volume">

<button class="calc" onclick="calculateBoyle()">Calculate</button>
<button class="reset" onclick="resetBoyle()">Reset</button>
<div id="boyleResult" class="result"></div>
</div>

<!-- Cylinder Volume Tab -->
<div id="cylinder" class="tab-content">
<h2 style="text-align:center;">Cylinder Volume Calculator</h2>
<p style="text-align:center;">Input units and desired output</p>

<label>Input Unit:</label>
<select id="inputUnit">
    <option value="mm">mm</option>
    <option value="cm">cm</option>
    <option value="m">m</option>
</select>

<label>Output Unit:</label>
<select id="outputUnit">
    <option value="mm3">mm³</option>
    <option value="cm3">cm³</option>
    <option value="L">L</option>
</select>

<input id="radius" placeholder="Radius">
<input id="height" placeholder="Height">

<button class="calc" onclick="calculateCylinder()">Calculate Volume</button>
<button class="reset" onclick="resetCylinder()">Reset</button>
<div id="cylinderResult" class="result"></div>
</div>

<!-- Rod Force Tab -->
<div id="rod" class="tab-content">
<h2 style="text-align:center;">Rod Force Calculator</h2>
<p style="text-align:center;">Choose input type and shaft size</p>

<label>Input Type:</label>
<select id="inputType" onchange="updateRodUnits()">
    <option value="force">Force (lbs/N → psi)</option>
    <option value="pressure">Pressure (psi → lbs/N)</option>
</select>

<input id="force" placeholder="Enter value">

<label>Unit:</label>
<select id="forceUnit"></select>

<label>Shaft Size:</label>
<select id="shaftSize">
    <option value="0.196">1/2 inch</option>
    <option value="0.307">5/8 inch</option>
</select>

<button class="calc" onclick="calculateRodForce()">Calculate</button>
<button class="reset" onclick="resetRodForce()">Reset</button>
<div id="rodResult" class="result"></div>
</div>

<script>
function openTab(tabName) {
    var i, tabcontent, tabbuttons;
    tabcontent = document.getElementsByClassName("tab-content");
    tabbuttons = document.getElementsByClassName("tab-button");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("active");
        tabbuttons[i].classList.remove("active");
    }
    document.getElementById(tabName).classList.add("active");
    event.currentTarget.classList.add("active");
}

// Boyle's Law
function calculateBoyle() {
    var P1 = parseFloat(document.getElementById("P1").value);
    var V1 = parseFloat(document.getElementById("V1").value);
    var P2 = parseFloat(document.getElementById("P2").value);
    var V2 = parseFloat(document.getElementById("V2").value);
    var unit = document.getElementById("pressureUnit").value;
    var empty = [P1, V1, P2, V2].filter(function(v){ return isNaN(v); }).length;

    if (empty !== 1) {
        document.getElementById("boyleResult").innerText = "Leave exactly ONE field blank.";
        return;
    }

    var resultText = "";
    if (isNaN(P1)) resultText = `P1 = ${((P2 * V2) / V1).toFixed(2)} ${unit}`;
    else if (isNaN(V1)) resultText = `V1 = ${((P2 * V2) / P1).toFixed(2)}`;
    else if (isNaN(P2)) resultText = `P2 = ${((P1 * V1) / V2).toFixed(2)} ${unit}`;
    else resultText = `V2 = ${((P1 * V1) / P2).toFixed(2)}`;

    document.getElementById("boyleResult").innerText = resultText;
}

function resetBoyle() {
    document.getElementById("P1").value = "";
    document.getElementById("V1").value = "";
    document.getElementById("P2").value = "";
    document.getElementById("V2").value = "";
    document.getElementById("boyleResult").innerText = "";
}

// Cylinder Volume
function calculateCylinder() {
    let r = parseFloat(document.getElementById("radius").value);
    let h = parseFloat(document.getElementById("height").value);
    let inputUnit = document.getElementById("inputUnit").value;
    let outputUnit = document.getElementById("outputUnit").value;

    if(isNaN(r) || isNaN(h)) {
        document.getElementById("cylinderResult").innerText = "Enter both radius and height!";
        return;
    }

    let factor = 1;
    if(inputUnit === "mm") factor = 0.001;
    else if(inputUnit === "cm") factor = 0.01;

    let r_m = r * factor;
    let h_m = h * factor;

    let volume_m3 = Math.PI * r_m * r_m * h_m;

    let volumeResult = 0;
    if(outputUnit === "mm3") volumeResult = volume_m3 * 1e9;
    else if(outputUnit === "cm3") volumeResult = volume_m3 * 1e6;
    else if(outputUnit === "L") volumeResult = volume_m3 * 1000;

    document.getElementById("cylinderResult").innerText =
        `Volume = ${volumeResult.toFixed(3)} ${outputUnit}`;
}

function resetCylinder() {
    document.getElementById("radius").value = "";
    document.getElementById("height").value = "";
    document.getElementById("cylinderResult").innerText = "";
}

// Rod Force
function updateRodUnits() {
    const inputType = document.getElementById("inputType").value;
    const unitSelect = document.getElementById("forceUnit");
    unitSelect.innerHTML = ""; // Clear previous options

    if(inputType === "force") {
        const options = [
            {value: "lbs", text: "lbs"},
            {value: "N", text: "Newtons (N)"}
        ];
        options.forEach(opt => {
            const option = document.createElement("option");
            option.value = opt.value;
            option.text = opt.text;
            unitSelect.appendChild(option);
        });
    } else if(inputType === "pressure") {
        const options = [
            {value: "psi", text: "psi"},
            {value: "lbs", text: "lbs"},
            {value: "N", text: "Newtons (N)"}
        ];
        options.forEach(opt => {
            const option = document.createElement("option");
            option.value = opt.value;
            option.text = opt.text;
            unitSelect.appendChild(option);
        });
    }
}

function calculateRodForce() {
    let inputValue = parseFloat(document.getElementById("force").value);
    let unit = document.getElementById("forceUnit").value;
    let shaftFactor = parseFloat(document.getElementById("shaftSize").value);
    let inputType = document.getElementById("inputType").value;

    if(isNaN(inputValue)){
        document.getElementById("rodResult").innerText = "Enter a valid value!";
        return;
    }

    let resultText = "";

    if(inputType === "force"){
        // Force → psi
        if(unit === "N") inputValue *= 0.224809; // convert to lbs
        let psi = inputValue / shaftFactor;
        resultText = `Pressure = ${psi.toFixed(2)} psi`;
    } else if(inputType === "pressure"){
        // psi → Force
        let lbsForce = inputValue * shaftFactor;
        let newtonsForce = lbsForce / 0.224809;

        if(unit === "lbs") resultText = `Force = ${lbsForce.toFixed(2)} lbs`;
        else if(unit === "N") resultText = `Force = ${newtonsForce.toFixed(2)} N`;
        else resultText = `Force = ${lbsForce.toFixed(2)} lbs (psi input)`;
    }

    document.getElementById("rodResult").innerText = resultText;
}

function resetRodForce() {
    document.getElementById("force").value = "";
    document.getElementById("rodResult").innerText = "";
    document.getElementById("shaftSize").value = "0.196";
    document.getElementById("inputType").value = "force";
    updateRodUnits(); // reset units
}

// Initialize units on page load
updateRodUnits();
</script>

</body>
</html>
